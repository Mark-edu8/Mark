<!-- Language Selection -->
<div class="language-switcher">
    <label for="language-select">🌍 Language:</label>
    <select id="language-select" onchange="onLangChange(this.value)">
        <option value="zh">中文 (简体)</option>
        <option value="zh-tw">中文 (繁體)</option>
        <option value="en">English</option>
        <option value="ar">العربية</option>
        <option value="fr">Français</option>
        <option value="de">Deutsch</option>
        <option value="pt-br">Português (Brasil)</option>
        <option value="tr">Türkçe</option>
        <option value="ja">日本語</option>
        <option value="ko">한국어</option>
    </select>
</div>

<!-- Handle Language Change -->
<script type="text/javascript">
    function getLang() {
        return new URLSearchParams(document.location.search).get("lang");
    }

    function setLang(newLang) {
        var params = new URLSearchParams(document.location.search);
        params.set("lang", newLang);
        document.location.search = params.toString(); // refresh the page with the new language
    }

    function _render() {
        var lang = getLang();
        var select = document.getElementById("language-select");

        if (lang) {
            select.value = lang;
        } else {
            select.value = "en"; // Default to English
        }
    }

    function onLangChange(newLang) {
        setLang(newLang);
    }

    document.addEventListener("DOMContentLoaded", _render);
</script>
